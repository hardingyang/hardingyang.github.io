<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="1.Kettle的安装，CARTE-子服务器，Repo数据源1.1 Kettle的安装从官网网站http:&#x2F;&#x2F;www.kettle.net.cn&#x2F; 即可下载zip压缩包，下载完压缩包，解压即可 1.2 Kettle的启动解压后，在data-integration目录下windows系统打开spoon.bat ,Linux系统打开spoob.sh即可启动  Spoon.bat，集成开发环境。提供了一">
<meta property="og:type" content="article">
<meta property="og:title" content="Kettle">
<meta property="og:url" content="https://hardingyang.github.io/2020/10/29/kettle/index.html">
<meta property="og:site_name" content="Jenkooo">
<meta property="og:description" content="1.Kettle的安装，CARTE-子服务器，Repo数据源1.1 Kettle的安装从官网网站http:&#x2F;&#x2F;www.kettle.net.cn&#x2F; 即可下载zip压缩包，下载完压缩包，解压即可 1.2 Kettle的启动解压后，在data-integration目录下windows系统打开spoon.bat ,Linux系统打开spoob.sh即可启动  Spoon.bat，集成开发环境。提供了一">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201023172554780.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102093312366.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102093407564.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102093530558.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102094148742.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102094431799.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102094632992.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102094709225.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102094724524.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029095320648.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027111724843.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027111926371.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029095506390.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027120501189.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027120613293.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027120955984.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027121049725.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102102542208.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102102644660.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201102102706799.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201026155646333.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201026155926324.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/%E5%9B%BE%E7%89%87-2.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/%E5%9B%BE%E7%89%87-3.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/%E5%9B%BE%E7%89%87-4.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/%E5%9B%BE%E7%89%87-6.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/%E5%9B%BE%E7%89%87-7.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201023155315135.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027102709279.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027102819068.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027103244837.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027103357516.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027121118919-1604281921159.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/20190523194711232.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029104344789.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029104442890.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029104714833.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029104815627.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029105137977.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029105622206.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029105931178.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110001062.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110156128.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110207712.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110254411.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110418237.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110548516.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110616738.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110633666.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110835318.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029110946138.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029111052187.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029111257686.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029111326461.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201029111618674.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201026154559653.png">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/bccd69a3ac13a629b512712ca95cbc229ce.jpg">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/2fdda4d3fef1f070ca9244dae46c1294d16.jpg">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/0a506dfee9c839a08bf7d5f7cf2e9531052.jpg">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/78a825dcd0b38de4ddf7a6db1cc96b8defb.jpg">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/a9deedc60aefad777b8dc4effa649da72bd.jpg">
<meta property="og:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201027135937063.png">
<meta property="article:published_time" content="2020-10-29T02:26:52.586Z">
<meta property="article:modified_time" content="2020-11-04T00:31:47.107Z">
<meta property="article:author" content="Jenkooo">
<meta property="article:tag" content="总结">
<meta property="article:tag" content="kettle总结">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hardingyang.github.io/2020/10/29/kettle/image-20201023172554780.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Kettle</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/11/08/%E5%89%8D%E7%AB%AF%E8%AE%B0%E5%BD%95/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2020/06/25/%E7%A7%8B%E6%8B%9B%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://hardingyang.github.io/2020/10/29/kettle/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://hardingyang.github.io/2020/10/29/kettle/&text=Kettle" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hardingyang.github.io/2020/10/29/kettle/&is_video=false&description=Kettle" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Kettle&body=Check out this article: https://hardingyang.github.io/2020/10/29/kettle/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://hardingyang.github.io/2020/10/29/kettle/&name=Kettle&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://hardingyang.github.io/2020/10/29/kettle/&t=Kettle" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Kettle的安装，CARTE-子服务器，Repo数据源"><span class="toc-number">1.</span> <span class="toc-text">1.Kettle的安装，CARTE-子服务器，Repo数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Kettle的安装"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Kettle的安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Kettle的启动"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Kettle的启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-CARTE-子服务器"><span class="toc-number">1.3.</span> <span class="toc-text">1.2 CARTE-子服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3Repo数据库连接"><span class="toc-number">1.4.</span> <span class="toc-text">1.3Repo数据库连接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-基本操作，数据库抽数据库导成文件，或者如到其他数据库"><span class="toc-number">2.</span> <span class="toc-text">2.基本操作，数据库抽数据库导成文件，或者如到其他数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1Kettle的基本操作出现的问题、解决方法"><span class="toc-number">2.1.</span> <span class="toc-text">2.1Kettle的基本操作出现的问题、解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1当出现数据库连接异常的时候比如"><span class="toc-number">2.1.1.</span> <span class="toc-text">2.1.1当出现数据库连接异常的时候比如</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-A表数据转到B表数据，出现中文乱码解决方案"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.1.2 A表数据转到B表数据，出现中文乱码解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-kettle报错：Unexpected-problem-reading-shared-objects-from-XML-file-null"><span class="toc-number">2.1.3.</span> <span class="toc-text">2.1.3 kettle报错：Unexpected problem reading shared objects from XML file:null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-Carte-web页面任务中文乱码的解决方式"><span class="toc-number">2.1.4.</span> <span class="toc-text">2.1.4 Carte web页面任务中文乱码的解决方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-A库A表的数据转到B库B表"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 A库A表的数据转到B库B表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-远程FTP拉到本地，再读入到本地数据库"><span class="toc-number">3.</span> <span class="toc-text">3.远程FTP拉到本地，再读入到本地数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-首先通过机器远程通过ftp连接"><span class="toc-number">3.1.</span> <span class="toc-text">1.首先通过机器远程通过ftp连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-再通过ftp拉取文件到本地"><span class="toc-number">3.2.</span> <span class="toc-text">2.再通过ftp拉取文件到本地</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-AB两台机器各有一个Kettle，A机器开启B机器"><span class="toc-number">4.</span> <span class="toc-text">4.AB两台机器各有一个Kettle，A机器开启B机器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-主从kettle-JVM配置"><span class="toc-number">5.</span> <span class="toc-text">5.主从kettle JVM配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-调整JVM大小"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 调整JVM大小</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-调优"><span class="toc-number">6.</span> <span class="toc-text">6.调优</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Kettle
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jenkooo</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-10-29T02:26:52.586Z" itemprop="datePublished">2020-10-29</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/kettle%E6%80%BB%E7%BB%93/" rel="tag">kettle总结</a>, <a class="tag-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="1-Kettle的安装，CARTE-子服务器，Repo数据源"><a href="#1-Kettle的安装，CARTE-子服务器，Repo数据源" class="headerlink" title="1.Kettle的安装，CARTE-子服务器，Repo数据源"></a>1.Kettle的安装，CARTE-子服务器，Repo数据源</h1><h2 id="1-1-Kettle的安装"><a href="#1-1-Kettle的安装" class="headerlink" title="1.1 Kettle的安装"></a>1.1 Kettle的安装</h2><p>从官网网站<a href="http://www.kettle.net.cn/" target="_blank" rel="noopener">http://www.kettle.net.cn/</a> 即可下载zip压缩包，下载完压缩包，解压即可</p>
<h2 id="1-2-Kettle的启动"><a href="#1-2-Kettle的启动" class="headerlink" title="1.2 Kettle的启动"></a>1.2 Kettle的启动</h2><p>解压后，在data-integration目录下windows系统打开spoon.bat ,Linux系统打开spoob.sh即可启动</p>
<p><img src="/2020/10/29/kettle/image-20201023172554780.png" alt="image-20201023172554780"></p>
<p>Spoon.bat，集成开发环境。提供了一个图形化用户界面，用于创建或者编辑作业或者转换。Spoon也可以用于执行或者调试作业或者转换，它也有性能监控的功能。<br>Kitchen.bat，作业的命令行运行程序，可以通过Sheel脚本来调用。Scheel脚本一般通过调度程序，如cron或者Windwos计划任务，来调度执行。<br>Pan.bat，转换的命令运行程序，和Kitchen一样通过Sheel脚本来调用。执行转换而不是作业。<br>Carte.bat：轻量级的Http服务器（基于Jetty），后台运行，监听Http请求来运行一个作业。Carte用于分布式和协调跨机器执行作业，也就是Kettle的集群。(重要)</p>
<h2 id="1-2-CARTE-子服务器"><a href="#1-2-CARTE-子服务器" class="headerlink" title="1.2 CARTE-子服务器"></a>1.2 CARTE-子服务器</h2><p>carte主要的配置环境是在Linux环境下，所以要将其更换为Linux的安装教程</p>
<p>将安装包，放置在/目录下，并解压</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">集群环境下的单节点，启动carte，首先进入&#x2F;data-integration文件夹</span><br><span class="line">cd &#x2F;data-integration&#x2F;pwd 进入该文件夹，会有几个已经有的Carte-config.xml文件</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/kettle/image-20201102093312366.png" alt="image-20201102093312366"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">carter-config-master-8080.xml 就是主服务器</span><br><span class="line">carter-config-8081.xml 等其余3个就是从服务器，如果需要增加更多的从服务器，只需要按照里面的样例，照着写就可以了</span><br></pre></td></tr></table></figure>

<p>打开一个主服务器的xml文件</p>
<p><img src="/2020/10/29/kettle/image-20201102093407564.png" alt></p>
<p>从服务器的xml文件</p>
<p><img src="/2020/10/29/kettle/image-20201102093530558.png" alt></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">回到&#x2F;data-integration 文件夹</span><br><span class="line"></span><br><span class="line">.&#x2F;carte.sh localhost 8080 就会在shell中启动一个web ，ip是localhost 端口是8080 ，表示启动主服务器carte</span><br><span class="line">.&#x2F;carte.sh localhost 8081 启动一个从服务器</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/kettle/image-20201102094148742.png" alt="image-20201102094148742"></p>
<p>等待启动，看到如下图就是启动成功</p>
<p><img src="/2020/10/29/kettle/image-20201102094431799.png" alt="image-20201102094431799"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 很关键的一点是，要先在pwd文件夹写入该配置文件，再启动Carte脚本启动web监控页面，监控该节点的运作</span></span><br><span class="line">启动完成之后，就可以在任何一个可ping通192.168.240.133的win10系统中的浏览器内输入192.168.240.133:8081 查看到页面</span><br><span class="line">用户名和密码就是pwd文件夹中的.conf配置文件中的username,password</span><br></pre></td></tr></table></figure>



<p><img src="/2020/10/29/kettle/image-20201102094632992.png" alt="image-20201102094632992"></p>
<p>进入如下页面就说明，服务器就已经启动了</p>
<p><img src="/2020/10/29/kettle/image-20201102094709225.png" alt="image-20201102094709225"></p>
<p>Show status 就可以查看运行在该节点的作业和转换任务</p>
<p><img src="/2020/10/29/kettle/image-20201102094724524.png" alt="image-20201102094724524"></p>
<p>然后现在在中心机win系统 /data-integration 启动Spoon.bat 图形化界面，在linux就是就是Spoon.sh</p>
<p><img src="/2020/10/29/kettle/image-20201029095320648.png" alt="image-20201029095320648"></p>
<p>新建一个job或者transfer任务，在子服务器下右键新建一个服务器</p>
<p><img src="/2020/10/29/kettle/image-20201027111724843.png" alt="image-20201027111724843"></p>
<p>这里就是配置刚才启动的carte服务，与启动的carte服务器配置源文件内的内容一致</p>
<p><img src="/2020/10/29/kettle/image-20201027111926371.png" alt></p>
<p>点击确定后，就会在子服务器列表中出现配置的服务器</p>
<p><img src="/2020/10/29/kettle/image-20201029095506390.png" alt="image-20201029095506390"></p>
<p>再点击Run configurtion 文件夹，右键新建</p>
<p><img src="/2020/10/29/kettle/image-20201027120501189.png" alt="image-20201027120501189"></p>
<p>重新命名Name</p>
<p><img src="/2020/10/29/kettle/image-20201027120613293.png" alt="image-20201027120613293"></p>
<p>配置完成，准备好要运行的任务，再点击运行</p>
<p><img src="/2020/10/29/kettle/image-20201027120955984.png" alt="image-20201027120955984"></p>
<p><img src="/2020/10/29/kettle/image-20201027121049725.png" alt="image-20201027121049725"></p>
<p>运行完成，或者正在运行，就可以在web上看到这个任务。</p>
<p><img src="/2020/10/29/kettle/image-20201102102542208.png" alt="image-20201102102542208"></p>
<p>点击任务，再点view，就可以看到详细的过程</p>
<p><img src="/2020/10/29/kettle/image-20201102102644660.png" alt="image-20201102102644660"></p>
<p>详细的任务</p>
<p><img src="/2020/10/29/kettle/image-20201102102706799.png" alt="image-20201102102706799"></p>
<h2 id="1-3Repo数据库连接"><a href="#1-3Repo数据库连接" class="headerlink" title="1.3Repo数据库连接"></a>1.3Repo数据库连接</h2><p>![image-20201026155549665]kettle\image-20201026155549665.png)</p>
<p>点击connection -》repository manager</p>
<p><img src="/2020/10/29/kettle/image-20201026155646333.png" alt="image-20201026155646333"></p>
<p><img src="/2020/10/29/kettle/image-20201026155926324.png" alt="image-20201026155926324"></p>
<p><img src="/2020/10/29/kettle/%E5%9B%BE%E7%89%87-2.png" alt="img"></p>
<p><img src="/2020/10/29/kettle/%E5%9B%BE%E7%89%87-3.png" alt="img"></p>
<p><img src="/2020/10/29/kettle/%E5%9B%BE%E7%89%87-4.png" alt="img"></p>
<p><img src="/2020/10/29/kettle/%E5%9B%BE%E7%89%87-6.png" alt="img"></p>
<p><img src="/2020/10/29/kettle/%E5%9B%BE%E7%89%87-7.png" alt="img"></p>
<p>默认登录的账户密码都是admin</p>
<h1 id="2-基本操作，数据库抽数据库导成文件，或者如到其他数据库"><a href="#2-基本操作，数据库抽数据库导成文件，或者如到其他数据库" class="headerlink" title="2.基本操作，数据库抽数据库导成文件，或者如到其他数据库"></a>2.基本操作，数据库抽数据库导成文件，或者如到其他数据库</h1><h2 id="2-1Kettle的基本操作出现的问题、解决方法"><a href="#2-1Kettle的基本操作出现的问题、解决方法" class="headerlink" title="2.1Kettle的基本操作出现的问题、解决方法"></a>2.1Kettle的基本操作出现的问题、解决方法</h2><h3 id="2-1-1当出现数据库连接异常的时候比如"><a href="#2-1-1当出现数据库连接异常的时候比如" class="headerlink" title="2.1.1当出现数据库连接异常的时候比如"></a>2.1.1当出现数据库连接异常的时候比如</h3><p>Driver class ‘org.gjt.mm.mysql.Driver’ could not be found, make sure the ‘MySQL’ driver (jar file) is installed.<br>org.gjt.mm.mysql.Driver</p>
<p><img src="/2020/10/29/kettle/image-20201023155315135.png" alt="image-20201023155315135"></p>
<p>说明当前的kettle项目内没有mysql驱动，需要手动的安装Mysql驱动包，这里安装的Mysql驱动jar包，最好版本不要过高，会出现要求时区的error，所以最好使用5.1.X的版本</p>
<p>比如 <strong>mysql-connector-java-5.1.15-bin.jar</strong></p>
<p>将jar包放入kettle项目目录的lib目录下即可</p>
<h3 id="2-1-2-A表数据转到B表数据，出现中文乱码解决方案"><a href="#2-1-2-A表数据转到B表数据，出现中文乱码解决方案" class="headerlink" title="2.1.2 A表数据转到B表数据，出现中文乱码解决方案"></a>2.1.2 A表数据转到B表数据，出现中文乱码解决方案</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">如果A库A表，转到B库B表，出现了转换到B表后中文乱码，且B数据库里面设置的charset就是utf8的情况，那么就需要在输入表中设置characterEncoding=utf8即可</span><br></pre></td></tr></table></figure>

<p>如图所示</p>
<p><img src="/2020/10/29/kettle/image-20201027102709279.png" alt="image-20201027102709279"></p>
<p><img src="/2020/10/29/kettle/image-20201027102819068.png" alt="image-20201027102819068"></p>
<p>这样即可解决utf8编码乱码情况</p>
<h3 id="2-1-3-kettle报错：Unexpected-problem-reading-shared-objects-from-XML-file-null"><a href="#2-1-3-kettle报错：Unexpected-problem-reading-shared-objects-from-XML-file-null" class="headerlink" title="2.1.3 kettle报错：Unexpected problem reading shared objects from XML file:null"></a>2.1.3 kettle报错：Unexpected problem reading shared objects from XML file:null</h3><p>原因是：在测试环境下。将表输出进行了共享。然后删除了共享。这一些列操作后，发生错误了</p>
<p><img src="/2020/10/29/kettle/image-20201027103244837.png" alt="image-20201027103244837"></p>
<p>打开shared.xml </p>
<p><img src="/2020/10/29/kettle/image-20201027103357516.png" alt="image-20201027103357516"></p>
<h3 id="2-1-4-Carte-web页面任务中文乱码的解决方式"><a href="#2-1-4-Carte-web页面任务中文乱码的解决方式" class="headerlink" title="2.1.4 Carte web页面任务中文乱码的解决方式"></a>2.1.4 Carte web页面任务中文乱码的解决方式</h3><p>当carte进行一个任务的时候，会将其显示在carte管理页面内，但是如果任务名字有中文就会出现乱码，乱码情况如下</p>
<p><img src="/2020/10/29/kettle/image-20201027121118919-1604281921159.png" alt="image-20201027121118919"></p>
<p>解决方式是：</p>
<p>在/data-integration 目录下编辑carte.bat 文件</p>
<p>增加</p>
<p>OPT= -Dfile.encoding=utf-8</p>
<p><img src="/2020/10/29/kettle/20190523194711232.png" alt="img"></p>
<h2 id="2-2-A库A表的数据转到B库B表"><a href="#2-2-A库A表的数据转到B库B表" class="headerlink" title="2.2 A库A表的数据转到B库B表"></a>2.2 A库A表的数据转到B库B表</h2><p>首先需要A库A表和B库B表的数据结构都是一样的，拿student表来做测试</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	<span class="keyword">id</span> <span class="keyword">not</span> <span class="literal">null</span> auto_increment <span class="keyword">comment</span> <span class="string">'主键id'</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'姓名'</span>,</span><br><span class="line">    age <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'年龄'</span>,</span><br><span class="line">    address <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'地址'</span>,</span><br><span class="line">    primary <span class="keyword">key</span>(<span class="keyword">id</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">插入测试数据</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'noko'</span>,<span class="number">12</span>,<span class="string">'上海杨浦区'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'jond'</span>,<span class="number">20</span>,<span class="string">'湖南省怀化市'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="number">3</span>,<span class="string">'Mkow'</span>,<span class="number">35</span>,<span class="string">'广东省深圳市'</span>);</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/kettle/image-20201029104344789.png" alt="image-20201029104344789"></p>
<p><img src="/2020/10/29/kettle/image-20201029104442890.png" alt="image-20201029104442890"></p>
<p>数据库的数据准备好后，就进入kettle进行操作，在Spoon界面，新建一个转换</p>
<p><img src="/2020/10/29/kettle/image-20201029104714833.png" alt="image-20201029104714833"></p>
<p><img src="/2020/10/29/kettle/image-20201029104815627.png" alt="image-20201029104815627"></p>
<p><img src="/2020/10/29/kettle/image-20201029105137977.png" alt="image-20201029105137977"></p>
<p>点击新建数据库连接</p>
<p><img src="/2020/10/29/kettle/image-20201029105622206.png" alt="image-20201029105622206"></p>
<p>配置完成，点击确定，再写入sql语句。</p>
<p><img src="/2020/10/29/kettle/image-20201029105931178.png" alt="image-20201029105931178"></p>
<p>点击预览，可以看到如下数据</p>
<p><img src="/2020/10/29/kettle/image-20201029110001062.png" alt="image-20201029110001062"></p>
<p>说明从数据库拉取到了数据，现在配置表的输出</p>
<p><img src="/2020/10/29/kettle/image-20201029110156128.png" alt="image-20201029110156128"></p>
<p><img src="/2020/10/29/kettle/image-20201029110207712.png" alt="image-20201029110207712"></p>
<p>配置表的输出步骤，双击工作界面的表输出步骤，出现弹窗</p>
<p><img src="/2020/10/29/kettle/image-20201029110254411.png" alt="image-20201029110254411"></p>
<p>配置数据库连接的方式，与之前一样，如图所示</p>
<p><img src="/2020/10/29/kettle/image-20201029110418237.png" alt="image-20201029110418237"></p>
<p>连接好后</p>
<p><img src="/2020/10/29/kettle/image-20201029110548516.png" alt="image-20201029110548516"></p>
<p><img src="/2020/10/29/kettle/image-20201029110616738.png" alt="image-20201029110616738"></p>
<p>确定后出现如下界面，点击确定即可</p>
<p><img src="/2020/10/29/kettle/image-20201029110633666.png" alt="image-20201029110633666"></p>
<p><img src="/2020/10/29/kettle/image-20201029110835318.png" alt="image-20201029110835318"></p>
<p>然后按住shift键，鼠标从输入拖到输出，就会出现节点连接，如图所示</p>
<p><img src="/2020/10/29/kettle/image-20201029110946138.png" alt></p>
<p>现在点击运行即可</p>
<p><img src="/2020/10/29/kettle/image-20201029111052187.png" alt="image-20201029111052187"></p>
<p><img src="/2020/10/29/kettle/image-20201029111257686.png" alt="image-20201029111257686"></p>
<p><img src="/2020/10/29/kettle/image-20201029111326461.png" alt="image-20201029111326461"></p>
<p>查看btest数据库的student表</p>
<p><img src="/2020/10/29/kettle/image-20201029111618674.png" alt="image-20201029111618674"></p>
<h1 id="3-远程FTP拉到本地，再读入到本地数据库"><a href="#3-远程FTP拉到本地，再读入到本地数据库" class="headerlink" title="3.远程FTP拉到本地，再读入到本地数据库"></a>3.远程FTP拉到本地，再读入到本地数据库</h1><p>开启Linux下的vsftp systemctl start vsftpd.service</p>
<p>停止Linux下的vsftp systemctl stop vsftpd.service</p>
<h2 id="1-首先通过机器远程通过ftp连接"><a href="#1-首先通过机器远程通过ftp连接" class="headerlink" title="1.首先通过机器远程通过ftp连接"></a>1.首先通过机器远程通过ftp连接</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">首先安装ftp，一般的linux都没有自带ftp的</span><br><span class="line">yum install -y vsftpd    //ftp占用的端口是21</span><br><span class="line">进入之后需要更改配置文件 cd /etc/vsftpd</span><br><span class="line">里面会有3个文件</span><br><span class="line">ftpuers  里面是黑名单，不允许连接的用户</span><br><span class="line">user_lists 是白名单，允许连接的用户</span><br><span class="line">vsftpd.conf 配置文件</span><br><span class="line"></span><br><span class="line">配置文件需要进行修改的地方有:</span><br><span class="line">anonymous_enable=NO</span><br><span class="line">local_enable=YES</span><br><span class="line">write_enable=YES</span><br><span class="line">chroot<span class="emphasis">_local_</span>user=YES</span><br><span class="line">chroot<span class="emphasis">_list_</span>enable=NO</span><br><span class="line"><span class="section"># allow_writeable_chroot=YES   需要添加的一行</span></span><br><span class="line">chroot<span class="emphasis">_list_</span>file=/etc/vsftpd/chroot_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这时候可以注释掉黑名单里面的root，方便测试，或者新建其他用户</span><br><span class="line"></span><br><span class="line">如果出现550错误，则使用</span><br><span class="line">getsebool -a | grep ftp</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/kettle/image-20201026154559653.png" alt="image-20201026154559653"></p>
<p>都是关闭的话，就需要打开</p>
<p>setsebool -P allow_ftpd_full_access on</p>
<p>setsebool -P tftp_home_dir on</p>
<h2 id="2-再通过ftp拉取文件到本地"><a href="#2-再通过ftp拉取文件到本地" class="headerlink" title="2.再通过ftp拉取文件到本地"></a>2.再通过ftp拉取文件到本地</h2><p>ftp的传输就是一个job，首先创建一个job</p>
<p><img src="/2020/10/29/kettle/bccd69a3ac13a629b512712ca95cbc229ce.jpg" alt="img"></p>
<p><img src="/2020/10/29/kettle/2fdda4d3fef1f070ca9244dae46c1294d16.jpg" alt="img"></p>
<p><img src="/2020/10/29/kettle/0a506dfee9c839a08bf7d5f7cf2e9531052.jpg" alt="img"></p>
<p><img src="/2020/10/29/kettle/78a825dcd0b38de4ddf7a6db1cc96b8defb.jpg" alt="img"></p>
<p><img src="/2020/10/29/kettle/a9deedc60aefad777b8dc4effa649da72bd.jpg" alt="img"></p>
<p>设置完，点击确定，就可以从远程虚拟上拉取数据了</p>
<h1 id="4-AB两台机器各有一个Kettle，A机器开启B机器"><a href="#4-AB两台机器各有一个Kettle，A机器开启B机器" class="headerlink" title="4.AB两台机器各有一个Kettle，A机器开启B机器"></a>4.AB两台机器各有一个Kettle，A机器开启B机器</h1><p>另外一台机器开起来，只能通过Carte来开启</p>
<p>1.首先设置好Carte对应的配置文件</p>
<p>2.通过远程调用sh脚本来开启Carte.sh </p>
<h1 id="5-主从kettle-JVM配置"><a href="#5-主从kettle-JVM配置" class="headerlink" title="5.主从kettle JVM配置"></a>5.主从kettle JVM配置</h1><h2 id="5-1-调整JVM大小"><a href="#5-1-调整JVM大小" class="headerlink" title="5.1 调整JVM大小"></a>5.1 调整JVM大小</h2><p>要修改JVM大小进行性能调优，就要修改Kettle根目录下Spoon脚本，如果是linux环境下，就修改Spoon.sh文件</p>
<p><img src="/2020/10/29/kettle/image-20201027135937063.png" alt="image-20201027135937063"></p>
<p>参数参考：</p>
<p>-Xmx2048m：设置JVM最大可用内存为2048M。</p>
<p>-Xms1024m：设置JVM初始内存为1024M。此值可以设置与-Xmx相同，以避免每次垃圾回收完成后JVM重新分配内存。</p>
<p>-Xmn2g：设置年轻代大小为2G。整个JVM内存大小=年轻代大小 + 老年代大小 + 持久代大小。持久代一般固定大小为64m，所以增大年轻代后，将会减小老年代大小。此值对系统性能影响较大，Sun官方推荐配置为整个堆的3/8。</p>
<p>-Xss128k：设置每个线程的堆栈大小。JDK5.0以后每个线程堆栈大小为1M，以前每个线程堆栈大小为256K。更具应用的线程所需内存大小进行调整。在相同物理内存下，减小这个值能生成更多的线程。但是操作系统对一个进程内的线程数还是有限制的，不能无限生成，经验值在3000~5000左右。</p>
<h1 id="6-调优"><a href="#6-调优" class="headerlink" title="6.调优"></a>6.调优</h1><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1. </span>JVM调优</span><br><span class="line"><span class="bullet">2. </span>调整提交（Commit）记录数大小进行优化，Kettle默认Commit数量为：1000，可以根据数据量大小来设置Commitsize：1000~50000</span><br><span class="line"><span class="bullet">3. </span>尽量使用数据库连接池</span><br><span class="line"><span class="bullet">4. </span>尽量提高批处理的commit size</span><br><span class="line"><span class="bullet">5. </span>尽量使用缓存，缓存尽量大一些（主要是文本文件和数据流）</span><br><span class="line"><span class="bullet">6. </span>Kettle是Java做的，尽量用大一点的内存参数启动Kettle</span><br><span class="line"><span class="bullet">7. </span>可以使用sql来做的一些操作尽量用sql。Group , merge , stream lookup,split field这些操作都是比较慢的，想办法避免他们.，能用sql就用sql</span><br><span class="line"><span class="bullet">8. </span>插入大量数据的时候尽量把索引删掉</span><br><span class="line"><span class="bullet">9. </span>尽量避免使用update , delete操作，尤其是update,如果可以把update变成先delete,  后insert</span><br><span class="line"><span class="bullet">10. </span>能使用truncate table的时候，就不要使用deleteall row这种类似sql合理的分区，如果删除操作是基于某一个分区的，就不要使用delete row这种方式（不管是deletesql还是delete步骤）,直接把分区drop掉，再重新创建</span><br><span class="line"><span class="bullet">11. </span>尽量缩小输入的数据集的大小（增量更新也是为了这个目的）</span><br><span class="line"><span class="bullet">12. </span>尽量使用数据库原生的方式装载文本文件(Oracle的sqlloader, mysql的bulk loader步骤)</span><br></pre></td></tr></table></figure>


  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Kettle的安装，CARTE-子服务器，Repo数据源"><span class="toc-number">1.</span> <span class="toc-text">1.Kettle的安装，CARTE-子服务器，Repo数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Kettle的安装"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Kettle的安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Kettle的启动"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Kettle的启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-CARTE-子服务器"><span class="toc-number">1.3.</span> <span class="toc-text">1.2 CARTE-子服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3Repo数据库连接"><span class="toc-number">1.4.</span> <span class="toc-text">1.3Repo数据库连接</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-基本操作，数据库抽数据库导成文件，或者如到其他数据库"><span class="toc-number">2.</span> <span class="toc-text">2.基本操作，数据库抽数据库导成文件，或者如到其他数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1Kettle的基本操作出现的问题、解决方法"><span class="toc-number">2.1.</span> <span class="toc-text">2.1Kettle的基本操作出现的问题、解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1当出现数据库连接异常的时候比如"><span class="toc-number">2.1.1.</span> <span class="toc-text">2.1.1当出现数据库连接异常的时候比如</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-A表数据转到B表数据，出现中文乱码解决方案"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.1.2 A表数据转到B表数据，出现中文乱码解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-kettle报错：Unexpected-problem-reading-shared-objects-from-XML-file-null"><span class="toc-number">2.1.3.</span> <span class="toc-text">2.1.3 kettle报错：Unexpected problem reading shared objects from XML file:null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-Carte-web页面任务中文乱码的解决方式"><span class="toc-number">2.1.4.</span> <span class="toc-text">2.1.4 Carte web页面任务中文乱码的解决方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-A库A表的数据转到B库B表"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 A库A表的数据转到B库B表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-远程FTP拉到本地，再读入到本地数据库"><span class="toc-number">3.</span> <span class="toc-text">3.远程FTP拉到本地，再读入到本地数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-首先通过机器远程通过ftp连接"><span class="toc-number">3.1.</span> <span class="toc-text">1.首先通过机器远程通过ftp连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-再通过ftp拉取文件到本地"><span class="toc-number">3.2.</span> <span class="toc-text">2.再通过ftp拉取文件到本地</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-AB两台机器各有一个Kettle，A机器开启B机器"><span class="toc-number">4.</span> <span class="toc-text">4.AB两台机器各有一个Kettle，A机器开启B机器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-主从kettle-JVM配置"><span class="toc-number">5.</span> <span class="toc-text">5.主从kettle JVM配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-调整JVM大小"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 调整JVM大小</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-调优"><span class="toc-number">6.</span> <span class="toc-text">6.调优</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://hardingyang.github.io/2020/10/29/kettle/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://hardingyang.github.io/2020/10/29/kettle/&text=Kettle" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hardingyang.github.io/2020/10/29/kettle/&is_video=false&description=Kettle" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Kettle&body=Check out this article: https://hardingyang.github.io/2020/10/29/kettle/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://hardingyang.github.io/2020/10/29/kettle/&title=Kettle" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://hardingyang.github.io/2020/10/29/kettle/&name=Kettle&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://hardingyang.github.io/2020/10/29/kettle/&t=Kettle" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2020
    Jenkooo
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?3611d43b4ebdcc59c13f6739c83aac46";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


</body>
</html>
